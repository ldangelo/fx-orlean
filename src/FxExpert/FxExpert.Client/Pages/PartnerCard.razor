@using Fortium.Types
@inject IJSRuntime JsRuntime
@inject NavigationManager NavigationManager

<MudCard Outlined="true">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h4">@(Partner?.GetFullName())</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        <MudText Typo="Typo.subtitle1">@(Partner?.Title)</MudText>
        <MudText Typo="Typo.subtitle2">Fortium Partners</MudText>
        <br/>
        <div MudCardContentstyle="display: flex; flex-direction: row; gap: 10px;">
            <MudText>@(Partner?.EmailAddress)</MudText>
            <MudText>@(Partner?.PrimaryPhone)</MudText>
        </div>
        <MudText Variant="Variant.Outlined">@Partner?.GetLocation()</MudText>
        <MudText Variant="Variant.Outlined">@_meetingUrl</MudText>
    </MudCardContent>
</MudCard>

@code {
    [Parameter] public Partner? Partner { get; set; } = null!;
    private string? _meetingUrl;

    protected override Task OnInitializedAsync()
    {
        _meetingUrl = NavigationManager.ToAbsoluteUri("/meeting/" + Partner?.EmailAddress).ToString();
        return Task.CompletedTask;
    }

}
