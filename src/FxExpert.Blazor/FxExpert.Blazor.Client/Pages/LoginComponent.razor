@rendermode InteractiveServer
@inject NavigationManager NavigationManager


@if (IsAuthenticating)
{
    <MudProgressLinear Indeterminate="true" Color="Color.Primary" Style="margin-bottom: 10px;"
                       visible="IsAuthenticating"/>
}

<MudButton Color="Color.Primary" OnClick="StartAuthentication">Login</MudButton>

@code {
    public bool IsAuthenticating = false;

    private async Task StartAuthentication()
    {
        IsAuthenticating = true; // Show the progress bar
        try
        {
            // Simulate authentication or call your actual login/auth process
            await Task.Delay(2000); // Replace this with your actual login logic
            // Redirect to the login endpoint or perform post-authentication actions
            NavigationManager.NavigateTo("authentication/login", true);
        }
        finally
        {
            IsAuthenticating = false; // Hide the progress bar after the operation completes
        }
    }

}
